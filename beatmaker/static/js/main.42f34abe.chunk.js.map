{"version":3,"sources":["Tick.js","Wave.js","Sound.js","utils.js","App.js","index.js"],"names":["colors","id","color","Tick","_ref","sounds","active","toggleSound","style","react_default","a","createElement","className","concat","map","key","background","opacity","includes","onClick","Wave","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","$el","ReactDOM","findDOMNode","$waveform","querySelector","wavesurfer","WaveSurfer","create","container","waveColor","progressColor","height","responsive","load","src","seekTo","startAt","on","onSeek","React","Component","Sound","file","volume","onPlay","setTime","setVolume","find","c","index_es","icon","faPlay","Wave_Wave","data","es","vertical","min","value","max","onChange","playSound","sound","Howl","seek","duration","play","App","_useState","useState","_useState2","slicedToArray","bpm","setBpm","_useState3","_useState4","tickCount","setTickCount","_useState5","_useState6","currentTick","setCurrentTick","_useState7","_useState8","ticks","setTicks","_useState9","_useState10","tid","setTid","_useState11","_useState12","setSounds","_useState13","_useState14","playing","setPlaying","nextTick","next","addBpm","amount","addTickCount","playSounds","length","forEach","soundId","s","tickId","index","indexOf","splice","toConsumableArray","push","percentage","findIndex","useEffect","i","setTimeout","clearTimeout","onKeyDown","e","keyCode","tabIndex","faPause","faStop","faSortUp","faSortDown","type","name","target","files","reader","FileReader","onload","config","JSON","parse","result","readAsText","faUpload","objectData","window","navigator","msSaveOrOpenBlob","blob","Blob","decodeURIComponent","encodeURI","stringify","document","download","href","encodeURIComponent","body","appendChild","click","removeChild","exportToJson","faDownload","tick","shouldWrap","innerWidth","Fragment","src_Tick","marginRight","src_Sound","render","cjs","backend","html5Backend","src_App","getElementById"],"mappings":"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","file":"static/js/main.42f34abe.chunk.js","sourcesContent":["import React from 'react';\n\nconst colors = [\n    { id: 1, color: '#60d394' },\n    { id: 2, color: '#d36060' },\n    { id: 3, color: '#c060d3' },\n    { id: 4, color: '#d3d160' },\n    { id: 5, color: '#6860d3' },\n    { id: 6, color: '#60b2d3' },\n];\n\nconst Tick = ({ id, sounds, active, toggleSound, style }) => (\n    <div className={`tick ${active ? 'active' : ''}`} style={style} >\n        {colors.map(color => (\n            <div\n                key={color.id}\n                className='sound-in-tick'\n                style={{ background: color.color, opacity: sounds.includes(color.id) ? '1' : '0.2' }}\n                onClick={() => toggleSound(color.id, id)}\n            ></div>\n        ))}\n    </div>\n);\n\nexport default Tick;","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport WaveSurfer from 'wavesurfer.js'\n\nexport default class Wave extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n  componentDidMount() {\n    this.$el = ReactDOM.findDOMNode(this);\n    this.$waveform = this.$el.querySelector('.wave');\n    this.wavesurfer = WaveSurfer.create({\n      container: this.$waveform,\n      waveColor: 'gray',\n      progressColor: 'black',\n      height: '80',\n      responsive: true\n    });\n    this.wavesurfer.load(this.props.src);\n    this.wavesurfer.seekTo(this.props.startAt);\n    this.wavesurfer.on('seek', this.props.onSeek);\n  }\n  \n  render() {\n    return (\n      <div className='waveform'>\n        <div className='wave'></div>\n      </div>\n    )\n  }\n}","import React from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faPlay } from '@fortawesome/free-solid-svg-icons';\nimport Slider from 'rc-slider';\nimport 'rc-slider/assets/index.css';\n\nimport Wave from './Wave.js';\n\nconst colors = [\n    { id: 1, color: '#60d394' },\n    { id: 2, color: '#d36060' },\n    { id: 3, color: '#c060d3' },\n    { id: 4, color: '#d3d160' },\n    { id: 5, color: '#6860d3' },\n    { id: 6, color: '#60b2d3' },\n];\n\nconst Sound = ({ id, file, startAt, volume, onPlay, setTime, setVolume }) => {\n\n    return (\n        <div\n            className='sound-container'\n            style={{ background: colors.find(c => c.id === id).color }}\n        >\n            <div>\n                <div onClick={() => onPlay(id)} className='button'>\n                    <FontAwesomeIcon icon={faPlay} />\n                </div>\n            </div>\n            <div className='wave'>\n                <Wave src={file} onSeek={data => setTime(id, data)} startAt={startAt} />\n            </div>\n            <div className='volume'>\n                <Slider vertical min={0} value={volume * 100} max={100} onChange={value => setVolume(id, value / 100)} />\n            </div>\n        </div>\n    );\n};\n\nexport default Sound;","import { Howl } from 'howler';\n\nexport const playSound = ({ file, startAt, volume }) => {\n    const sound = new Howl({ src: [file] });\n    const seek = sound.duration() * startAt\n    sound.seek(seek);\n    sound.volume(volume);\n    sound.play();\n};\n\nexport const exportToJson = (objectData) => {\n    let filename = 'config.json';\n    let contentType = 'application/json;charset=utf-8;';\n    if (window.navigator && window.navigator.msSaveOrOpenBlob) {\n        var blob = new Blob([decodeURIComponent(encodeURI(JSON.stringify(objectData)))], { type: contentType });\n        navigator.msSaveOrOpenBlob(blob, filename);\n    } else {\n        var a = document.createElement('a');\n        a.download = filename;\n        a.href = 'data:' + contentType + ',' + encodeURIComponent(JSON.stringify(objectData));\n        a.target = '_blank';\n        document.body.appendChild(a);\n        a.click();\n        document.body.removeChild(a);\n    }\n}","import React, { useEffect, useState } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faPlay, faPause, faStop, faSortUp, faSortDown, faDownload, faUpload } from '@fortawesome/free-solid-svg-icons';\n\nimport Tick from './Tick.js';\nimport Sound from './Sound.js';\n\nimport { playSound, exportToJson } from './utils';\n\nconst App = () => {\n    const [bpm, setBpm] = useState(144);\n    const [tickCount, setTickCount] = useState(8);\n    const [currentTick, setCurrentTick] = useState(0);\n    const [ticks, setTicks] = useState([]);\n    const [tid, setTid] = useState(0);\n    const [sounds, setSounds] = useState([]);\n\n    // Playback\n    const [playing, setPlaying] = useState(false);\n\n    const nextTick = () => {\n        if (!playing) return;\n\n        const next = currentTick + 1;\n        if (next === tickCount * 4) {\n            setCurrentTick(0);\n        } else {\n            setCurrentTick(next);\n        }\n    };\n\n    const addBpm = (amount) => {\n        if (bpm + amount === 181 || bpm + amount === 59) return;\n        setBpm(bpm + amount);\n    };\n\n    const addTickCount = (amount) => {\n        if (tickCount + amount === 17 || tickCount + amount === 3) return;\n        setTickCount(tickCount + amount);\n    };\n\n    const playSounds = () => {\n        if (!ticks.length) return;\n        ticks[currentTick].sounds.forEach(soundId => {\n            const sound = sounds.find(s => s.id === soundId);\n            playSound(sound);\n        });\n    };\n\n    const toggleSound = (soundId, tickId) => {\n        if (ticks[tickId].sounds.includes(soundId)) {\n            const index = ticks[tickId].sounds.indexOf(soundId);\n            ticks[tickId].sounds.splice(index, 1);\n            setTicks([...ticks]);\n        } else {\n            ticks[tickId].sounds.push(soundId);\n            setTicks([...ticks]);\n        }\n    };\n\n    const setTime = (soundId, percentage) => {\n        const index = sounds.findIndex(s => s.id === soundId);\n        sounds[index].startAt = percentage;\n        setSounds([...sounds]);\n    };\n\n    const setVolume = (soundId, percentage) => {\n        const index = sounds.findIndex(s => s.id === soundId);\n        sounds[index].volume = percentage;\n        setSounds([...sounds]);\n    };\n\n    const onKeyDown = (e) => {\n        if (e.keyCode === 32) {\n            setPlaying(!playing);\n        }\n    };\n\n    const uploadConfig = (e) => {\n        if (!e.target.files[0]) return;\n        const reader = new FileReader();\n        reader.onload = (e) => {\n            const config = JSON.parse(e.target.result);\n            if ('bpm' in config && 'sounds' in config && 'tickCount' in config && 'ticks' in config) {\n                setBpm(config.bpm);\n                setTicks(config.ticks);\n                setSounds(config.sounds);\n                setTickCount(config.tickCount);\n            }\n        };\n        reader.readAsText(e.target.files[0]);\n    };\n\n    const downloadConfig = () => {\n        exportToJson({\n            bpm,\n            ticks,\n            sounds,\n            tickCount,\n        });\n    };\n\n    useEffect(() => {\n        for (let i = 0; i < tickCount * 4; i++) {\n            ticks.push({ id: i, sounds: [] });\n        }\n\n        setTicks(ticks);\n\n        setSounds([\n            { id: 1, file: 'sounds/kick.wav', startAt: 0, volume: 1 },\n            { id: 2, file: 'sounds/hihat.wav', startAt: 0, volume: 1 },\n            { id: 3, file: 'sounds/snare.wav', startAt: 0, volume: 1 },\n            { id: 4, file: 'sounds/clap.wav', startAt: 0, volume: 1 },\n            { id: 5, file: 'sounds/perc.wav', startAt: 0, volume: 1 },\n            { id: 6, file: 'sounds/808.wav', startAt: 0, volume: 1 },\n        ]);\n    }, []);\n\n    useEffect(() => {\n        if (playing) playSounds();\n        setTid(setTimeout(nextTick, 60000 / (bpm * 4)));\n    }, [currentTick]);\n\n    useEffect(() => {\n        const length = ticks.length;\n        if (length < tickCount * 4) {\n            for (let i = 0; i < 4; i++) {\n                ticks.push({ id: length + i, sounds: [] });\n            }\n        } else if (length > tickCount * 4) {\n            ticks.splice(-4, 4);\n        }\n        setTicks([...ticks]);\n        \n    }, [tickCount]);\n\n    useEffect(() => {\n        if (playing) {\n            playSounds();\n            setTid(setTimeout(nextTick, 60000 / (bpm * 4)));\n        } else {\n            clearTimeout(tid);\n        }\n    }, [playing]);\n\n    return (\n        <div id='app' onKeyDown={onKeyDown} tabIndex='0'>\n            <div id='header'>\n                <div id='playback'>\n                    <div id='play-pause' className={playing ? 'playing' : ''} onClick={() => setPlaying(!playing)}>\n                        {playing ? <FontAwesomeIcon icon={faPause} /> : <FontAwesomeIcon icon={faPlay} />}\n                    </div>\n                    <div onClick={() => { setPlaying(false); setCurrentTick(0); }}>\n                        <FontAwesomeIcon icon={faStop} />\n                    </div>\n                </div>\n                <div id='settings'>\n                    <div>\n                        <div className='counter'>{bpm} BPM</div>\n                        {!playing && (\n                            <div>\n                                <div onClick={() => addBpm(1)}><FontAwesomeIcon icon={faSortUp} /></div>\n                                <div onClick={() => addBpm(-1)}><FontAwesomeIcon icon={faSortDown} /></div>\n                            </div>\n                        )}\n                    </div>\n                    <div>\n                        <div className='counter'>{tickCount} TICKS</div>\n                        {!playing && (\n                            <div>\n                                <div onClick={() => addTickCount(1)}><FontAwesomeIcon icon={faSortUp} /></div>\n                                <div onClick={() => addTickCount(-1)}><FontAwesomeIcon icon={faSortDown} /></div>\n                            </div>\n                        )}\n                    </div>\n                </div>\n                <div id='download'>\n                    <div>\n                        <input type=\"file\" name=\"file\" onChange={uploadConfig} />\n                        <FontAwesomeIcon icon={faUpload} />\n                    </div>\n                    <div onClick={downloadConfig}>\n                        <FontAwesomeIcon icon={faDownload} />\n                    </div>\n                </div>\n            </div>\n            <div id='tabs'>\n                <div id='ticks'>\n                    {ticks.map(tick => {\n                        const length = ticks.length * 34 + tickCount * 15;\n                        const shouldWrap = ticks.length / 2 === tick.id && length > window.innerWidth;\n                        return (\n                            <React.Fragment>\n                                {shouldWrap && <br />}\n                                <Tick\n                                    key={tick.id}\n                                    id={tick.id}\n                                    sounds={tick.sounds}\n                                    active={currentTick === tick.id}\n                                    toggleSound={toggleSound}\n                                    style={{ marginRight: tick.id % 4 === 3 ? '15px' : '2px' }}\n                                />\n                            </React.Fragment>\n                        )\n                    })}\n                </div>\n            </div>\n            <div id='pads'>\n                {sounds.map(sound => (\n                    <Sound\n                        key={sound.id}\n                        id={sound.id}\n                        volume={sound.volume}\n                        onPlay={() => playSound(sound)}\n                        file={sound.file}\n                        setTime={setTime}\n                        setVolume={setVolume}\n                        startAt={sound.startAt}\n                    />\n                ))}\n            </div>\n        </div>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { DragDropContextProvider } from 'react-dnd'\nimport html5Backend from 'react-dnd-html5-backend'\n\nimport './index.css';\nimport App from './App';\n\nReactDOM.render((\n<DragDropContextProvider backend={html5Backend}>\n    <App />\n</DragDropContextProvider>\n), document.getElementById('root'));\n"],"sourceRoot":""}