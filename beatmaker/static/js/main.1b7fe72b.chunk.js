(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{140:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n.n(a),c=n(6),o=n.n(c),r=(n(80),n(29)),l=n(14),d=n(11),u=n(12),s=n(69),m=[{id:1,color:"#60d394"},{id:2,color:"#d36060"},{id:3,color:"#c060d3"},{id:4,color:"#d3d160"},{id:5,color:"#6860d3"},{id:6,color:"#60b2d3"}],f=function(e){var t=e.id,n=e.sounds,a=e.active,c=e.toggleSound,o=e.style;return i.a.createElement("div",{className:"tick ".concat(a?"active":""),style:o},m.map(function(e){return i.a.createElement("div",{key:e.id,className:"sound-in-tick",style:{background:e.color,opacity:n.includes(e.id)?"1":"0.2"},onClick:function(){return c(e.id,t)}})}))},v=n(55),E=(n(139),n(73)),p=n.n(E),b=function(e){var t=e.src,n=e.onSeek,c=e.time,o=Object(a.useState)(null),r=Object(l.a)(o,2),d=r[0],u=r[1];return Object(a.useEffect)(function(){if(d){var e=p.a.create({container:d,waveColor:"gray",progressColor:"transparent",cursorWidth:"0",height:"80",responsive:!0});e.load(t),e.on("seek",n)}},[d]),i.a.createElement("div",{className:"waveform"},i.a.createElement("div",{className:"start",style:{width:"".concat(c[0],"%")}}),i.a.createElement("div",{className:"end",style:{width:"".concat(100-c[1],"%")}}),i.a.createElement("div",{className:"wave",ref:u}))},g=[{id:1,color:"#60d394"},{id:2,color:"#d36060"},{id:3,color:"#c060d3"},{id:4,color:"#d3d160"},{id:5,color:"#6860d3"},{id:6,color:"#60b2d3"}],k=function(e){var t=e.id,n=e.file,a=e.onPlay,c=e.time,o=e.setTime,r=e.volume,l=e.setVolume;return i.a.createElement("div",{className:"sound-container",style:{background:g.find(function(e){return e.id===t}).color}},i.a.createElement("div",null,i.a.createElement("div",{onClick:function(){return a(t)},className:"button"},i.a.createElement(d.a,{icon:u.d}))),i.a.createElement("div",{className:"wave"},i.a.createElement(b,{src:n,onSeek:function(e){return o(t,e)},time:c}),i.a.createElement("div",{className:"range-container"},i.a.createElement(v.a,{min:0,max:100,value:c,pushable:5,onChange:function(e){return o(t,e)}}))),i.a.createElement("div",{className:"volume"},i.a.createElement(v.b,{vertical:!0,min:0,max:100,value:100*r,onChange:function(e){return l(t,e/100)}})))},O=n(74),w=function(e,t){var n=e.file,a=e.start,i=e.end,c=e.volume,o=new O.Howl({src:[n]}),r=o.duration()*(a/100),l=o.duration()*(i/100)-r;o.seek(r),o.volume(t?0:c),o.play(),setTimeout(function(){return o.stop()},1e3*l)},j=function(){var e=Object(a.useState)(144),t=Object(l.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(8),m=Object(l.a)(o,2),v=m[0],E=m[1],p=Object(a.useState)(0),b=Object(l.a)(p,2),g=b[0],O=b[1],j=Object(a.useState)([]),h=Object(l.a)(j,2),y=h[0],C=h[1],N=Object(a.useState)(0),S=Object(l.a)(N,2),x=S[0],I=S[1],T=Object(a.useState)([]),B=Object(l.a)(T,2),J=B[0],R=B[1],P=Object(a.useState)(!1),F=Object(l.a)(P,2),U=F[0],D=F[1],K=function(){if(U){var e=g+1;O(e===4*v?0:e)}},M=function(e){n+e!==181&&n+e!==59&&c(n+e)},V=function(e){v+e!==17&&v+e!==3&&E(v+e)},W=function(){y.length&&y[g].sounds.forEach(function(e){var t=J.find(function(t){return t.id===e});w(t)})},z=function(e,t){if(y[t].sounds.includes(e)){var n=y[t].sounds.indexOf(e);y[t].sounds.splice(n,1),C(Object(r.a)(y))}else y[t].sounds.push(e),C(Object(r.a)(y))},A=function(e,t){var n=Object(l.a)(t,2),a=n[0],i=n[1],c=J.findIndex(function(t){return t.id===e});J[c].start=a,J[c].end=i,R(Object(r.a)(J))},G=function(e,t){var n=J.findIndex(function(t){return t.id===e});J[n].volume=t,R(Object(r.a)(J))};return Object(a.useEffect)(function(){for(var e=0;e<4*v;e++)y.push({id:e,sounds:[]});C(y);var t=[{id:1,file:"sounds/kick.wav",start:0,end:100,volume:1},{id:2,file:"sounds/hihat.wav",start:0,end:100,volume:1},{id:3,file:"sounds/snare.wav",start:0,end:100,volume:1},{id:4,file:"sounds/clap.wav",start:0,end:100,volume:1},{id:5,file:"sounds/perc.wav",start:0,end:100,volume:1},{id:6,file:"sounds/808.wav",start:0,end:100,volume:1}];t.forEach(function(e){w(e,!0)}),R(t)},[]),Object(a.useEffect)(function(){U&&W(),I(setTimeout(K,6e4/(4*n)))},[g]),Object(a.useEffect)(function(){var e=y.length;if(e<4*v)for(var t=0;t<4;t++)y.push({id:e+t,sounds:[]});else e>4*v&&y.splice(-4,4);C(Object(r.a)(y))},[v]),Object(a.useEffect)(function(){U?(W(),I(setTimeout(K,6e4/(4*n)))):clearTimeout(x)},[U]),i.a.createElement("div",{id:"app",onKeyDown:function(e){32===e.keyCode&&D(!U)},tabIndex:"0"},s.isMobile?i.a.createElement("div",{className:"mobile"},i.a.createElement(d.a,{icon:u.a}),i.a.createElement("p",null,"Deze app wordt niet ondersteund op dit apparaat. Gebruik een laptop of PC om de app te gebruiken.")):i.a.createElement(a.Fragment,null,i.a.createElement("div",{id:"header"},i.a.createElement("div",{id:"playback"},i.a.createElement("div",{id:"play-pause",className:U?"playing":"",onClick:function(){return D(!U)}},U?i.a.createElement(d.a,{icon:u.c}):i.a.createElement(d.a,{icon:u.d})),i.a.createElement("div",{onClick:function(){D(!1),O(0)}},i.a.createElement(d.a,{icon:u.g}))),i.a.createElement("div",{id:"settings"},i.a.createElement("div",null,i.a.createElement("div",{className:"counter"},n," BPM"),!U&&i.a.createElement("div",null,i.a.createElement("div",{onClick:function(){return M(1)}},i.a.createElement(d.a,{icon:u.f})),i.a.createElement("div",{onClick:function(){return M(-1)}},i.a.createElement(d.a,{icon:u.e})))),i.a.createElement("div",null,i.a.createElement("div",{className:"counter"},v," TICKS"),!U&&i.a.createElement("div",null,i.a.createElement("div",{onClick:function(){return V(1)}},i.a.createElement(d.a,{icon:u.f})),i.a.createElement("div",{onClick:function(){return V(-1)}},i.a.createElement(d.a,{icon:u.e}))))),i.a.createElement("div",{id:"download"},i.a.createElement("div",null,i.a.createElement("input",{type:"file",name:"file",onChange:function(e){if(e.target.files[0]){var t=new FileReader;t.onload=function(e){var t=JSON.parse(e.target.result);"bpm"in t&&"sounds"in t&&"tickCount"in t&&"ticks"in t&&(c(t.bpm),C(t.ticks),R(t.sounds),E(t.tickCount))},t.readAsText(e.target.files[0])}}}),i.a.createElement(d.a,{icon:u.h})),i.a.createElement("div",{onClick:function(){!function(e){if(window.navigator&&window.navigator.msSaveOrOpenBlob){var t=new Blob([decodeURIComponent(encodeURI(JSON.stringify(e)))],{type:"application/json;charset=utf-8;"});navigator.msSaveOrOpenBlob(t,"config.json")}else{var n=document.createElement("a");n.download="config.json",n.href="data:application/json;charset=utf-8;,"+encodeURIComponent(JSON.stringify(e)),n.target="_blank",document.body.appendChild(n),n.click(),document.body.removeChild(n)}}({bpm:n,ticks:y,sounds:J,tickCount:v})}},i.a.createElement(d.a,{icon:u.b})))),i.a.createElement("div",{id:"tabs"},i.a.createElement("div",{id:"ticks"},y.map(function(e){var t=34*y.length+15*v,n=y.length/2===e.id&&t>window.innerWidth;return i.a.createElement(i.a.Fragment,null,n&&i.a.createElement("br",null),i.a.createElement(f,{key:e.id,id:e.id,sounds:e.sounds,active:g===e.id,toggleSound:z,style:{marginRight:e.id%4===3?"15px":"2px"}}))}))),i.a.createElement("div",{id:"pads"},J.map(function(e){return i.a.createElement(k,{key:e.id,id:e.id,volume:e.volume,onPlay:function(){return w(e)},file:e.file,time:[e.start,e.end],setTime:A,setVolume:G})}))))};o.a.render(i.a.createElement(j,null),document.getElementById("root"))},75:function(e,t,n){e.exports=n(140)},80:function(e,t,n){}},[[75,1,2]]]);
//# sourceMappingURL=main.1b7fe72b.chunk.js.map