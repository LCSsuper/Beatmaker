{"version":3,"sources":["Tick.js","Wave.js","Sound.js","utils.js","App.js","index.js"],"names":["colors","id","color","Tick","_ref","sounds","active","toggleSound","style","react_default","a","createElement","className","concat","map","key","background","opacity","includes","onClick","Wave","src","onSeek","time","_useState","useState","_useState2","Object","slicedToArray","ref","setRef","useEffect","wavesurfer","WaveSurfer","create","container","waveColor","progressColor","cursorWidth","height","responsive","load","on","width","Sound","file","onPlay","setTime","volume","setVolume","find","c","index_es","icon","faPlay","src_Wave","data","es","min","max","value","pushable","onChange","vertical","playSound","init","start","end","sound","Howl","startAt","duration","stopAt","seek","play","setTimeout","stop","App","bpm","setBpm","_useState3","_useState4","tickCount","setTickCount","_useState5","_useState6","currentTick","setCurrentTick","_useState7","_useState8","ticks","setTicks","_useState9","_useState10","tid","setTid","_useState11","_useState12","setSounds","_useState13","_useState14","playing","setPlaying","nextTick","next","addBpm","amount","addTickCount","playSounds","length","forEach","soundId","s","tickId","index","indexOf","splice","toConsumableArray","push","_value","findIndex","percentage","i","_sounds","clearTimeout","onKeyDown","e","keyCode","tabIndex","isMobile","faBan","react","faPause","faStop","faSortUp","faSortDown","type","name","target","files","reader","FileReader","onload","config","JSON","parse","result","readAsText","faUpload","objectData","window","navigator","msSaveOrOpenBlob","blob","Blob","decodeURIComponent","encodeURI","stringify","document","download","href","encodeURIComponent","body","appendChild","click","removeChild","exportToJson","faDownload","tick","shouldWrap","innerWidth","Fragment","src_Tick","marginRight","src_Sound","ReactDOM","render","src_App","getElementById"],"mappings":"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","file":"static/js/main.1b7fe72b.chunk.js","sourcesContent":["import React from 'react';\n\nconst colors = [\n    { id: 1, color: '#60d394' },\n    { id: 2, color: '#d36060' },\n    { id: 3, color: '#c060d3' },\n    { id: 4, color: '#d3d160' },\n    { id: 5, color: '#6860d3' },\n    { id: 6, color: '#60b2d3' },\n];\n\nconst Tick = ({ id, sounds, active, toggleSound, style }) => (\n    <div className={`tick ${active ? 'active' : ''}`} style={style} >\n        {colors.map(color => (\n            <div\n                key={color.id}\n                className='sound-in-tick'\n                style={{ background: color.color, opacity: sounds.includes(color.id) ? '1' : '0.2' }}\n                onClick={() => toggleSound(color.id, id)}\n            ></div>\n        ))}\n    </div>\n);\n\nexport default Tick;","import React, { useEffect, useState } from 'react';\nimport WaveSurfer from 'wavesurfer.js';\n\nconst Wave = ({ src, onSeek, time }) => {\n\n    const [ref, setRef] = useState(null);\n\n    useEffect(() => {\n        if (!ref) return;\n        const wavesurfer = WaveSurfer.create({\n            container: ref,\n            waveColor: 'gray',\n            progressColor: 'transparent',\n            cursorWidth: '0',\n            height: '80',\n            responsive: true\n        });\n\n        wavesurfer.load(src);\n        wavesurfer.on('seek', onSeek);\n    }, [ref]);\n\n    return (\n        <div className='waveform'>\n            <div className='start' style={{ width: `${time[0]}%` }}></div>\n            <div className='end' style={{ width: `${100 - time[1]}%` }}></div>\n            <div className='wave' ref={setRef}></div>\n        </div>\n    );\n};\n\nexport default Wave;","import React from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faPlay } from '@fortawesome/free-solid-svg-icons';\nimport Slider, { Range } from 'rc-slider';\nimport 'rc-slider/assets/index.css';\n\nimport Wave from './Wave.js';\n\nconst colors = [\n    { id: 1, color: '#60d394' },\n    { id: 2, color: '#d36060' },\n    { id: 3, color: '#c060d3' },\n    { id: 4, color: '#d3d160' },\n    { id: 5, color: '#6860d3' },\n    { id: 6, color: '#60b2d3' },\n];\n\nconst Sound = ({\n    id,\n    file,\n    onPlay,\n    time,\n    setTime,\n    volume,\n    setVolume,\n}) => {\n\n    return (\n        <div\n            className='sound-container'\n            style={{ background: colors.find(c => c.id === id).color }}\n        >\n            <div>\n                <div onClick={() => onPlay(id)} className='button'>\n                    <FontAwesomeIcon icon={faPlay} />\n                </div>\n            </div>\n            <div className='wave'>\n                <Wave src={file} onSeek={data => setTime(id, data)} time={time} />\n                <div className='range-container'>\n                    <Range min={0} max={100} value={time} pushable={5} onChange={value => setTime(id, value)} />\n                </div>\n            </div>\n            <div className='volume'>\n                <Slider vertical min={0} max={100} value={volume * 100} onChange={value => setVolume(id, value / 100)} />\n            </div>\n        </div>\n    );\n};\n\nexport default Sound;","import { Howl } from 'howler';\n\nexport const playSound = ({ file, start, end, volume }, init) => {\n    const sound = new Howl({ src: [file] });\n    const startAt = sound.duration() * (start / 100);\n    const stopAt = sound.duration() * (end / 100) - startAt;\n    sound.seek(startAt);\n    sound.volume(init ? 0 : volume);\n    sound.play();\n    setTimeout(() => sound.stop(), stopAt * 1000);\n};\n\nexport const exportToJson = (objectData) => {\n    let filename = 'config.json';\n    let contentType = 'application/json;charset=utf-8;';\n    if (window.navigator && window.navigator.msSaveOrOpenBlob) {\n        var blob = new Blob([decodeURIComponent(encodeURI(JSON.stringify(objectData)))], { type: contentType });\n        navigator.msSaveOrOpenBlob(blob, filename);\n    } else {\n        var a = document.createElement('a');\n        a.download = filename;\n        a.href = 'data:' + contentType + ',' + encodeURIComponent(JSON.stringify(objectData));\n        a.target = '_blank';\n        document.body.appendChild(a);\n        a.click();\n        document.body.removeChild(a);\n    }\n}","import React, { useEffect, useState, Fragment } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faPlay, faPause, faStop, faSortUp, faSortDown, faDownload, faUpload, faBan } from '@fortawesome/free-solid-svg-icons';\nimport { isMobile } from 'react-device-detect';\n\nimport Tick from './Tick.js';\nimport Sound from './Sound.js';\n\nimport { playSound, exportToJson } from './utils';\n\nconst App = () => {\n    const [bpm, setBpm] = useState(144);\n    const [tickCount, setTickCount] = useState(8);\n    const [currentTick, setCurrentTick] = useState(0);\n    const [ticks, setTicks] = useState([]);\n    const [tid, setTid] = useState(0);\n    const [sounds, setSounds] = useState([]);\n\n    // Playback\n    const [playing, setPlaying] = useState(false);\n\n    const nextTick = () => {\n        if (!playing) return;\n\n        const next = currentTick + 1;\n        if (next === tickCount * 4) {\n            setCurrentTick(0);\n        } else {\n            setCurrentTick(next);\n        }\n    };\n\n    const addBpm = (amount) => {\n        if (bpm + amount === 181 || bpm + amount === 59) return;\n        setBpm(bpm + amount);\n    };\n\n    const addTickCount = (amount) => {\n        if (tickCount + amount === 17 || tickCount + amount === 3) return;\n        setTickCount(tickCount + amount);\n    };\n\n    const playSounds = () => {\n        if (!ticks.length) return;\n        ticks[currentTick].sounds.forEach(soundId => {\n            const sound = sounds.find(s => s.id === soundId);\n            playSound(sound);\n        });\n    };\n\n    const toggleSound = (soundId, tickId) => {\n        if (ticks[tickId].sounds.includes(soundId)) {\n            const index = ticks[tickId].sounds.indexOf(soundId);\n            ticks[tickId].sounds.splice(index, 1);\n            setTicks([...ticks]);\n        } else {\n            ticks[tickId].sounds.push(soundId);\n            setTicks([...ticks]);\n        }\n    };\n\n    const setTime = (soundId, value) => {\n        const [start, end] = value;\n        const index = sounds.findIndex(s => s.id === soundId);\n        sounds[index].start = start;\n        sounds[index].end = end;\n        setSounds([...sounds]);\n    };\n\n    const setVolume = (soundId, percentage) => {\n        const index = sounds.findIndex(s => s.id === soundId);\n        sounds[index].volume = percentage;\n        setSounds([...sounds]);\n    };\n\n    const onKeyDown = (e) => {\n        if (e.keyCode === 32) {\n            setPlaying(!playing);\n        }\n    };\n\n    const uploadConfig = (e) => {\n        if (!e.target.files[0]) return;\n        const reader = new FileReader();\n        reader.onload = (e) => {\n            const config = JSON.parse(e.target.result);\n            if (\n                'bpm' in config \n                && 'sounds' in config \n                && 'tickCount' in config \n                && 'ticks' in config\n            ) {\n                setBpm(config.bpm);\n                setTicks(config.ticks);\n                setSounds(config.sounds);\n                setTickCount(config.tickCount);\n            }\n        };\n        reader.readAsText(e.target.files[0]);\n    };\n\n    const downloadConfig = () => {\n        exportToJson({\n            bpm,\n            ticks,\n            sounds,\n            tickCount,\n        });\n    };\n\n    useEffect(() => {\n        for (let i = 0; i < tickCount * 4; i++) {\n            ticks.push({ id: i, sounds: [] });\n        }\n\n        setTicks(ticks);\n\n        const _sounds = [\n            { id: 1, file: 'sounds/kick.wav', start: 0, end: 100, volume: 1 },\n            { id: 2, file: 'sounds/hihat.wav', start: 0, end: 100, volume: 1 },\n            { id: 3, file: 'sounds/snare.wav', start: 0, end: 100, volume: 1 },\n            { id: 4, file: 'sounds/clap.wav', start: 0, end: 100, volume: 1 },\n            { id: 5, file: 'sounds/perc.wav', start: 0, end: 100, volume: 1 },\n            { id: 6, file: 'sounds/808.wav', start: 0, end: 100, volume: 1 },\n        ];\n\n        _sounds.forEach(sound => {\n            playSound(sound, true);\n        });\n\n        setSounds(_sounds);\n    }, []);\n\n    useEffect(() => {\n        if (playing) playSounds();\n        setTid(setTimeout(nextTick, 60000 / (bpm * 4)));\n    }, [currentTick]);\n\n    useEffect(() => {\n        const length = ticks.length;\n        if (length < tickCount * 4) {\n            for (let i = 0; i < 4; i++) {\n                ticks.push({ id: length + i, sounds: [] });\n            }\n        } else if (length > tickCount * 4) {\n            ticks.splice(-4, 4);\n        }\n        setTicks([...ticks]);\n        \n    }, [tickCount]);\n\n    useEffect(() => {\n        if (playing) {\n            playSounds();\n            setTid(setTimeout(nextTick, 60000 / (bpm * 4)));\n        } else {\n            clearTimeout(tid);\n        }\n    }, [playing]);\n\n    return (\n        <div id='app' onKeyDown={onKeyDown} tabIndex='0'>\n            {!isMobile ? (\n                <Fragment>\n                    <div id='header'>\n                        <div id='playback'>\n                            <div id='play-pause' className={playing ? 'playing' : ''} onClick={() => setPlaying(!playing)}>\n                                {playing ? <FontAwesomeIcon icon={faPause} /> : <FontAwesomeIcon icon={faPlay} />}\n                            </div>\n                            <div onClick={() => { setPlaying(false); setCurrentTick(0); }}>\n                                <FontAwesomeIcon icon={faStop} />\n                            </div>\n                        </div>\n                        <div id='settings'>\n                            <div>\n                                <div className='counter'>{bpm} BPM</div>\n                                {!playing && (\n                                    <div>\n                                        <div onClick={() => addBpm(1)}><FontAwesomeIcon icon={faSortUp} /></div>\n                                        <div onClick={() => addBpm(-1)}><FontAwesomeIcon icon={faSortDown} /></div>\n                                    </div>\n                                )}\n                            </div>\n                            <div>\n                                <div className='counter'>{tickCount} TICKS</div>\n                                {!playing && (\n                                    <div>\n                                        <div onClick={() => addTickCount(1)}><FontAwesomeIcon icon={faSortUp} /></div>\n                                        <div onClick={() => addTickCount(-1)}><FontAwesomeIcon icon={faSortDown} /></div>\n                                    </div>\n                                )}\n                            </div>\n                        </div>\n                        <div id='download'>\n                            <div>\n                                <input type=\"file\" name=\"file\" onChange={uploadConfig} />\n                                <FontAwesomeIcon icon={faUpload} />\n                            </div>\n                            <div onClick={downloadConfig}>\n                                <FontAwesomeIcon icon={faDownload} />\n                            </div>\n                        </div>\n                    </div>\n                    <div id='tabs'>\n                        <div id='ticks'>\n                            {ticks.map(tick => {\n                                const length = ticks.length * 34 + tickCount * 15;\n                                const shouldWrap = ticks.length / 2 === tick.id && length > window.innerWidth;\n                                return (\n                                    <React.Fragment>\n                                        {shouldWrap && <br />}\n                                        <Tick\n                                            key={tick.id}\n                                            id={tick.id}\n                                            sounds={tick.sounds}\n                                            active={currentTick === tick.id}\n                                            toggleSound={toggleSound}\n                                            style={{ marginRight: tick.id % 4 === 3 ? '15px' : '2px' }}\n                                        />\n                                    </React.Fragment>\n                                )\n                            })}\n                        </div>\n                    </div>\n                    <div id='pads'>\n                        {sounds.map(sound => (\n                            <Sound\n                                key={sound.id}\n                                id={sound.id}\n                                volume={sound.volume}\n                                onPlay={() => playSound(sound)}\n                                file={sound.file}\n                                time={[sound.start, sound.end]}\n                                setTime={setTime}\n                                setVolume={setVolume}\n                            />\n                        ))}\n                    </div>\n                </Fragment>\n            ) : (\n                <div className='mobile'>\n                    <FontAwesomeIcon icon={faBan} />\n                    <p>Deze app wordt niet ondersteund op dit apparaat. Gebruik een laptop of PC om de app te gebruiken.</p>\n                </div>\n            )}\n        </div>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './index.css';\nimport App from './App';\n\nReactDOM.render((<App />), document.getElementById('root'));\n"],"sourceRoot":""}